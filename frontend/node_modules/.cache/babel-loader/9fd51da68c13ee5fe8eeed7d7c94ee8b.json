{"ast":null,"code":"var _jsxFileName = \"/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useComponent from '../hooks/useComponent';\nimport ToggleButton from '@mui/material/ToggleButton';\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\nimport Box from '@mui/material/Box';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Profile = () => {\n  _s();\n\n  const {\n    storedCredentials,\n    setStoredCredentials\n  } = useContext(CredentialsContext);\n  const {\n    FlexRowCentreDiv,\n    FlexColumnCentreDiv,\n    FlexRowSpaceAroundDiv,\n    H3NoMargin\n  } = useComponent();\n  const {\n    name,\n    followers,\n    following\n  } = storedCredentials;\n  const [view, setView] = useState('textPosts');\n  const [textPosts, setTextPosts] = useState(null);\n  const [loadingTextPosts, setLoadingTextPosts] = useState(false);\n  const [loadingTextPostsError, setLoadingTextPostsError] = useState(null);\n  const [imagePosts, setImagePosts] = useState(null);\n  const [loadingImagePosts, setLoadingImagePosts] = useState(false);\n  const [loadingImagePostsError, setLoadingImagePostsError] = useState(null);\n  const loadPosts = {\n    textPosts: () => {\n      if (loadingTextPosts === false) {\n        setLoadingTextPosts(true);\n        setLoadingTextPostsError(null);\n        setTextPosts(null);\n        axios.get(`http://localhost:8080/user/textPostsByUserName/?username=${name}&skip=${Array.isArray(textPosts) ? textPosts.length : 0}`).then(response => response.data).then(result => {\n          console.log(result);\n          console.log(typeof result);\n        }).catch(error => {\n          setLoadingTextPosts(false);\n          setLoadingTextPostsError(String(error));\n          console.error(error);\n          setTextPosts(null);\n        });\n      }\n    },\n    imagePosts: () => {\n      console.log('loading image posts');\n    }\n  };\n  useEffect(() => {\n    loadPosts.textPosts();\n  }, []);\n\n  const handleViewChange = (event, nextView) => {\n    if (nextView !== view && nextView !== null) {\n      setView(nextView);\n      if (nextView === 'textPosts' && textPosts === null) loadPosts.textPosts();\n      if (nextView === 'imagePosts' && imagePosts === null) loadPosts.imagePosts();\n    }\n\n    if (nextView === null) loadPosts[view]();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FlexRowSpaceAroundDiv, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FlexColumnCentreDiv, {\n        children: [/*#__PURE__*/_jsxDEV(H3NoMargin, {\n          children: followers.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(H3NoMargin, {\n          children: \"Followers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FlexColumnCentreDiv, {\n        children: [/*#__PURE__*/_jsxDEV(H3NoMargin, {\n          children: following.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(H3NoMargin, {\n          children: \"Following\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToggleButtonGroup, {\n      color: \"primary\",\n      value: view,\n      exclusive: true,\n      onChange: handleViewChange,\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(ToggleButton, {\n        value: \"textPosts\",\n        children: \"Text Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ToggleButton, {\n        value: \"imagePosts\",\n        children: \"Image Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Profile, \"FjA0TMGjxPJaBLd+30lO0J/aH/s=\", false, function () {\n  return [useComponent];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useContext","useState","useEffect","CredentialsContext","useComponent","ToggleButton","ToggleButtonGroup","Box","axios","Profile","storedCredentials","setStoredCredentials","FlexRowCentreDiv","FlexColumnCentreDiv","FlexRowSpaceAroundDiv","H3NoMargin","name","followers","following","view","setView","textPosts","setTextPosts","loadingTextPosts","setLoadingTextPosts","loadingTextPostsError","setLoadingTextPostsError","imagePosts","setImagePosts","loadingImagePosts","setLoadingImagePosts","loadingImagePostsError","setLoadingImagePostsError","loadPosts","get","Array","isArray","length","then","response","data","result","console","log","catch","error","String","handleViewChange","event","nextView"],"sources":["/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/Profile.js"],"sourcesContent":["import React, {useContext, useState, useEffect} from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useComponent from '../hooks/useComponent';\nimport ToggleButton from '@mui/material/ToggleButton';\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\nimport Box from '@mui/material/Box';\nimport axios from 'axios';\n\nconst Profile = () => {\n    const {storedCredentials, setStoredCredentials} = useContext(CredentialsContext)\n    const { FlexRowCentreDiv, FlexColumnCentreDiv, FlexRowSpaceAroundDiv, H3NoMargin } = useComponent()\n    const {name, followers, following} = storedCredentials;\n    const [view, setView] = useState('textPosts')\n    const [textPosts, setTextPosts] = useState(null)\n    const [loadingTextPosts, setLoadingTextPosts] = useState(false)\n    const [loadingTextPostsError, setLoadingTextPostsError] = useState(null)\n    const [imagePosts, setImagePosts] = useState(null)\n    const [loadingImagePosts, setLoadingImagePosts] = useState(false)\n    const [loadingImagePostsError, setLoadingImagePostsError] = useState(null)\n\n    const loadPosts = {\n        textPosts: () => {\n            if (loadingTextPosts === false) {\n                setLoadingTextPosts(true)\n                setLoadingTextPostsError(null)\n                setTextPosts(null)\n\n                axios.get(`http://localhost:8080/user/textPostsByUserName/?username=${name}&skip=${Array.isArray(textPosts) ? textPosts.length : 0}`)\n                .then(response => response.data)\n                .then(result => {\n                    console.log(result)\n                    console.log(typeof result)\n                })\n                .catch(error => {\n                    setLoadingTextPosts(false)\n                    setLoadingTextPostsError(String(error))\n                    console.error(error)\n                    setTextPosts(null)\n                })\n            }\n        },\n        imagePosts: () => {\n            console.log('loading image posts')\n        }\n    }\n\n    useEffect(() => {\n        loadPosts.textPosts()\n    }, [])\n\n    const handleViewChange = (event, nextView) => {\n        if (nextView !== view && nextView !== null) {\n            setView(nextView)\n            if (nextView === 'textPosts' && textPosts === null) loadPosts.textPosts()\n            if (nextView === 'imagePosts' && imagePosts === null) loadPosts.imagePosts()\n        }\n        if (nextView === null) loadPosts[view]()\n    }\n    return (\n        <>\n            <FlexRowSpaceAroundDiv>\n                <h1>{name}</h1>\n                <FlexColumnCentreDiv>\n                    <H3NoMargin>{followers.length}</H3NoMargin>\n                    <H3NoMargin>Followers</H3NoMargin>\n                </FlexColumnCentreDiv>\n                <FlexColumnCentreDiv>\n                    <H3NoMargin>{following.length}</H3NoMargin>\n                    <H3NoMargin>Following</H3NoMargin>\n                </FlexColumnCentreDiv>\n            </FlexRowSpaceAroundDiv>\n            <ToggleButtonGroup\n                color=\"primary\"\n                value={view}\n                exclusive\n                onChange={handleViewChange}\n                fullWidth\n            >\n                <ToggleButton value=\"textPosts\">Text Posts</ToggleButton>\n                <ToggleButton value=\"imagePosts\">Image Posts</ToggleButton>\n            </ToggleButtonGroup>\n        </>\n    )\n}\n\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module"}