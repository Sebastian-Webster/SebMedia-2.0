{"ast":null,"code":"var _jsxFileName = \"/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/CreateTextPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useInput from '../hooks/useInput';\nimport { Box, CircularProgress, TextField } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport TextPost from '../components/TextPost';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CreateTextPost = () => {\n  _s();\n\n  const {\n    storedCredentials,\n    setStoredCredentials\n  } = useContext(CredentialsContext);\n  const {\n    _id\n  } = storedCredentials;\n  const [title, bindTitle] = useInput('', 'title');\n  const [body, bindBody] = useInput('', 'body');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  const uploadTextPost = e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    const toSend = {\n      title,\n      body,\n      userId: _id\n    };\n    axios.post('http://localhost:8080/user/textPost', toSend).then(response => response.data).then(result => {\n      setLoading(false);\n      setError(null);\n      navigate('/home');\n    }).catch(error => {\n      var _error$response, _error$response$data;\n\n      setLoading(false);\n      setError(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Create Text Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: uploadTextPost,\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, { ...bindTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(TextField, { ...bindBody\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Preview:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), !title || !body ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Text Post must have a body and a title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(TextPost, {\n        title: title,\n        body: body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CreateTextPost, \"gOOmBg3O+G38PHl0HksIFtkevaY=\", false, function () {\n  return [useInput, useInput, useNavigate];\n});\n\n_c = CreateTextPost;\nexport default CreateTextPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateTextPost\");","map":{"version":3,"names":["React","useContext","useState","CredentialsContext","useInput","Box","CircularProgress","TextField","axios","useNavigate","TextPost","CreateTextPost","storedCredentials","setStoredCredentials","_id","title","bindTitle","body","bindBody","loading","setLoading","error","setError","navigate","uploadTextPost","e","preventDefault","toSend","userId","post","then","response","data","result","catch","display","justifyContent","mt","alignItems","flexDirection","color"],"sources":["/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/CreateTextPost.js"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useInput from '../hooks/useInput';\nimport { Box, CircularProgress, TextField } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'\nimport TextPost from '../components/TextPost';\n\nconst CreateTextPost = () => {\n    const {storedCredentials, setStoredCredentials} = useContext(CredentialsContext);\n    const {_id} = storedCredentials;\n    const [title, bindTitle] = useInput('', 'title')\n    const [body, bindBody] = useInput('', 'body')\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(null)\n    const navigate = useNavigate();\n\n    const uploadTextPost = (e) => {\n        e.preventDefault();\n        setLoading(true)\n        setError(null)\n\n        const toSend = {\n            title,\n            body,\n            userId: _id\n        }\n\n        axios.post('http://localhost:8080/user/textPost', toSend).then(response => response.data)\n        .then(result => {\n            setLoading(false)\n            setError(null)\n            navigate('/home')\n        }).catch(error => {\n            setLoading(false)\n            setError(error?.response?.data?.error)\n        })\n    }\n\n    return (\n        <>\n            <h1>Create Text Post</h1>\n            {loading ?\n                <Box sx={{display: 'flex', justifyContent: 'center', mt: 3}}>\n                    <CircularProgress/>\n                </Box>\n            :\n                <form onSubmit={uploadTextPost} style={{display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column'}}>\n                    <TextField {...bindTitle}/>\n                    <TextField {...bindBody}/>\n                    <input type=\"submit\" value='Submit'/>\n                    {error && <p style={{color: 'red'}}>{error}</p>}\n                    <h2>Preview:</h2>\n                    {!title || !body ?\n                        <h3>Text Post must have a body and a title</h3>\n                    :\n                        <TextPost title={title} body={body}/>\n                    }\n                </form>\n            }\n        </>\n    )\n}\n\nexport default CreateTextPost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}