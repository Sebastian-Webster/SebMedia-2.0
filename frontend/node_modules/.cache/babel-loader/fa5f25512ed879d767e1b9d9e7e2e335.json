{"ast":null,"code":"var _jsxFileName = \"/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/CreateTextPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useInput from '../hooks/useInput';\nimport { Box, CircularProgress, TextField } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport TextPost from '../components/TextPost';\nimport { DarkModeContext } from \"../context/DarkModeContext\";\nimport { styled } from '@mui/material/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CreateTextPost = () => {\n  _s();\n\n  const {\n    storedCredentials,\n    setStoredCredentials\n  } = useContext(CredentialsContext);\n  const {\n    darkMode,\n    setDarkMode\n  } = useContext(DarkModeContext);\n  const {\n    _id\n  } = storedCredentials;\n  const [title, bindTitle] = useInput('', 'title');\n  const [body, bindBody] = useInput('', 'body');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  const uploadTextPost = e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    const toSend = {\n      title,\n      body,\n      userId: _id\n    };\n    axios.post('http://localhost:8080/user/textPost', toSend).then(response => response.data).then(result => {\n      setLoading(false);\n      setError(null);\n      navigate('/home');\n    }).catch(error => {\n      var _error$response, _error$response$data;\n\n      setLoading(false);\n      setError(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error);\n    });\n  };\n\n  const StyledTextField = styled(TextField)({\n    '& label.Mui-focused': {\n      color: darkMode ? 'white' : 'black'\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: darkMode ? 'white' : 'black'\n    },\n    '& .MuiOutlinedInput-root': {\n      color: darkMode ? 'white' : 'black',\n      '& fieldset': {\n        color: darkMode ? 'white' : 'black',\n        borderColor: darkMode ? 'white' : 'black'\n      },\n      '&:hover fieldset': {\n        borderColor: darkMode ? 'white' : 'black'\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: darkMode ? 'white' : 'black'\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Create Text Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: uploadTextPost,\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(StyledTextField, { ...bindTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(StyledTextField, { ...bindBody\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CreateTextPost, \"ZP9coTEcvxgfJwROOl30FsOW9KE=\", false, function () {\n  return [useInput, useInput, useNavigate];\n});\n\n_c = CreateTextPost;\nexport default CreateTextPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateTextPost\");","map":{"version":3,"names":["React","useContext","useState","CredentialsContext","useInput","Box","CircularProgress","TextField","axios","useNavigate","TextPost","DarkModeContext","styled","CreateTextPost","storedCredentials","setStoredCredentials","darkMode","setDarkMode","_id","title","bindTitle","body","bindBody","loading","setLoading","error","setError","navigate","uploadTextPost","e","preventDefault","toSend","userId","post","then","response","data","result","catch","StyledTextField","color","borderBottomColor","borderColor","display","justifyContent","mt","alignItems","flexDirection"],"sources":["/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/CreateTextPost.js"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useInput from '../hooks/useInput';\nimport { Box, CircularProgress, TextField } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'\nimport TextPost from '../components/TextPost';\nimport { DarkModeContext } from \"../context/DarkModeContext\";\nimport { styled } from '@mui/material/styles';\n\nconst CreateTextPost = () => {\n    const {storedCredentials, setStoredCredentials} = useContext(CredentialsContext);\n    const {darkMode, setDarkMode} = useContext(DarkModeContext);\n    const {_id} = storedCredentials;\n    const [title, bindTitle] = useInput('', 'title')\n    const [body, bindBody] = useInput('', 'body')\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(null)\n    const navigate = useNavigate();\n\n    const uploadTextPost = (e) => {\n        e.preventDefault();\n        setLoading(true)\n        setError(null)\n\n        const toSend = {\n            title,\n            body,\n            userId: _id\n        }\n\n        axios.post('http://localhost:8080/user/textPost', toSend).then(response => response.data)\n        .then(result => {\n            setLoading(false)\n            setError(null)\n            navigate('/home')\n        }).catch(error => {\n            setLoading(false)\n            setError(error?.response?.data?.error)\n        })\n    }\n\n    const StyledTextField = styled(TextField)({\n        '& label.Mui-focused': {\n            color: darkMode ? 'white' : 'black'\n        },\n        '& .MuiInput-underline:after': {\n            borderBottomColor: darkMode ? 'white' : 'black'\n        },\n        '& .MuiOutlinedInput-root' : {\n            color: darkMode ? 'white' : 'black',\n            '& fieldset': {\n                color: darkMode ? 'white' : 'black',\n                borderColor: darkMode ? 'white' : 'black'\n            },\n            '&:hover fieldset': {\n                borderColor: darkMode ? 'white' : 'black'\n            },\n            '&.Mui-focused fieldset': {\n                borderColor: darkMode ? 'white' : 'black'\n            }\n        }\n    })\n\n    return (\n        <>\n            <h1>Create Text Post</h1>\n            {loading ?\n                <Box sx={{display: 'flex', justifyContent: 'center', mt: 3}}>\n                    <CircularProgress/>\n                </Box>\n            :\n                <form onSubmit={uploadTextPost} style={{display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column'}}>\n                    <StyledTextField {...bindTitle}/>\n                    <StyledTextField {...bindBody}/>\n                    <input type=\"submit\" value='Submit'/>\n                    {error && <p style={{color: 'red'}}>{error}</p>}\n                </form>\n            }\n        </>\n    )\n}\n\nexport default CreateTextPost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}