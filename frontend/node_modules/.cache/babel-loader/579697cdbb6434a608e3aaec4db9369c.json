{"ast":null,"code":"var _jsxFileName = \"/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/CreateTextPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useContext, useState } from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useInput from '../hooks/useInput';\nimport { Box, CircularProgress } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport TextPost from '../components/TextPost';\nimport useComponent from '../hooks/useComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CreateTextPost = () => {\n  _s();\n\n  const {\n    storedCredentials,\n    setStoredCredentials\n  } = useContext(CredentialsContext);\n  const {\n    _id\n  } = storedCredentials;\n  const [title, bindTitle] = useInput('', 'title');\n  const [body, bindBody] = useInput('', 'body');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    StyledTextField\n  } = useComponent();\n  const navigate = useNavigate();\n\n  const uploadTextPost = e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    const toSend = {\n      title,\n      body,\n      userId: _id\n    };\n    axios.post('http://localhost:8080/user/textPost', toSend).then(response => response.data).then(result => {\n      setLoading(false);\n      setError(null);\n      navigate('/home');\n    }).catch(error => {\n      var _error$response, _error$response$data;\n\n      setLoading(false);\n      setError(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Create Text Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: uploadTextPost,\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          flexDirection: 'column'\n        },\n        children: [/*#__PURE__*/_createElement(StyledTextField, { ...bindTitle,\n          key: \"title\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/_createElement(StyledTextField, { ...bindBody,\n          key: \"body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 35\n        }, this)]\n      }, \"textForm\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Preview:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), !title || !body ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Preview is waiting for a title AND body to be entered...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(TextPost, {\n        title: title,\n        body: body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true)]\n  }, \"textpostpage\", true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CreateTextPost, \"krPmKLnJqk5l/jD6QfSnJtFM73w=\", false, function () {\n  return [useInput, useInput, useComponent, useNavigate];\n});\n\n_c = CreateTextPost;\nexport default CreateTextPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateTextPost\");","map":{"version":3,"names":["React","Fragment","useContext","useState","CredentialsContext","useInput","Box","CircularProgress","axios","useNavigate","TextPost","useComponent","CreateTextPost","storedCredentials","setStoredCredentials","_id","title","bindTitle","body","bindBody","loading","setLoading","error","setError","StyledTextField","navigate","uploadTextPost","e","preventDefault","toSend","userId","post","then","response","data","result","catch","display","justifyContent","mt","alignItems","flexDirection","color"],"sources":["/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/CreateTextPost.js"],"sourcesContent":["import React, {Fragment, useContext, useState} from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useInput from '../hooks/useInput';\nimport { Box, CircularProgress } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'\nimport TextPost from '../components/TextPost';\nimport useComponent from '../hooks/useComponent';\n\nconst CreateTextPost = () => {\n    const {storedCredentials, setStoredCredentials} = useContext(CredentialsContext);\n    const {_id} = storedCredentials;\n    const [title, bindTitle] = useInput('', 'title')\n    const [body, bindBody] = useInput('', 'body')\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(null)\n    const { StyledTextField } = useComponent();\n    const navigate = useNavigate();\n\n    const uploadTextPost = (e) => {\n        e.preventDefault();\n        setLoading(true)\n        setError(null)\n\n        const toSend = {\n            title,\n            body,\n            userId: _id\n        }\n\n        axios.post('http://localhost:8080/user/textPost', toSend).then(response => response.data)\n        .then(result => {\n            setLoading(false)\n            setError(null)\n            navigate('/home')\n        }).catch(error => {\n            setLoading(false)\n            setError(error?.response?.data?.error)\n        })\n    }\n\n    return (\n        <Fragment key=\"textpostpage\">\n            <h1>Create Text Post</h1>\n            {loading ?\n                <Box sx={{display: 'flex', justifyContent: 'center', mt: 3}}>\n                    <CircularProgress/>\n                </Box>\n            :\n                <>\n                    <form onSubmit={uploadTextPost} style={{display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column'}} key=\"textForm\">\n                        <StyledTextField {...bindTitle} key=\"title\"/>\n                        <StyledTextField {...bindBody} key=\"body\"/>\n                        <input type=\"submit\" value='Submit'/>\n                        {error && <p style={{color: 'red'}}>{error}</p>}\n                    </form>\n                    <h2>Preview:</h2>\n                    {!title || !body ?\n                        <>\n                            <h3>Preview is waiting for a title AND body to be entered...</h3>\n                            <CircularProgress/>\n                        </>\n                    :\n                        <TextPost title={title} body={body}/>\n                    }\n                </>\n            }\n        </Fragment>\n    )\n}\n\nexport default CreateTextPost;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,QAArC,QAAoD,OAApD;AACA,SAASC,kBAAT,QAAmC,+BAAnC;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,SAASC,GAAT,EAAcC,gBAAd,QAAsC,eAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;;;;;AAEA,MAAMC,cAAc,GAAG,MAAM;EAAA;;EACzB,MAAM;IAACC,iBAAD;IAAoBC;EAApB,IAA4CZ,UAAU,CAACE,kBAAD,CAA5D;EACA,MAAM;IAACW;EAAD,IAAQF,iBAAd;EACA,MAAM,CAACG,KAAD,EAAQC,SAAR,IAAqBZ,QAAQ,CAAC,EAAD,EAAK,OAAL,CAAnC;EACA,MAAM,CAACa,IAAD,EAAOC,QAAP,IAAmBd,QAAQ,CAAC,EAAD,EAAK,MAAL,CAAjC;EACA,MAAM,CAACe,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACmB,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM;IAAEqB;EAAF,IAAsBb,YAAY,EAAxC;EACA,MAAMc,QAAQ,GAAGhB,WAAW,EAA5B;;EAEA,MAAMiB,cAAc,GAAIC,CAAD,IAAO;IAC1BA,CAAC,CAACC,cAAF;IACAP,UAAU,CAAC,IAAD,CAAV;IACAE,QAAQ,CAAC,IAAD,CAAR;IAEA,MAAMM,MAAM,GAAG;MACXb,KADW;MAEXE,IAFW;MAGXY,MAAM,EAAEf;IAHG,CAAf;IAMAP,KAAK,CAACuB,IAAN,CAAW,qCAAX,EAAkDF,MAAlD,EAA0DG,IAA1D,CAA+DC,QAAQ,IAAIA,QAAQ,CAACC,IAApF,EACCF,IADD,CACMG,MAAM,IAAI;MACZd,UAAU,CAAC,KAAD,CAAV;MACAE,QAAQ,CAAC,IAAD,CAAR;MACAE,QAAQ,CAAC,OAAD,CAAR;IACH,CALD,EAKGW,KALH,CAKSd,KAAK,IAAI;MAAA;;MACdD,UAAU,CAAC,KAAD,CAAV;MACAE,QAAQ,CAACD,KAAD,aAACA,KAAD,0CAACA,KAAK,CAAEW,QAAR,4EAAC,gBAAiBC,IAAlB,yDAAC,qBAAuBZ,KAAxB,CAAR;IACH,CARD;EASH,CApBD;;EAsBA,oBACI,QAAC,QAAD;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,EAEKF,OAAO,gBACJ,QAAC,GAAD;MAAK,EAAE,EAAE;QAACiB,OAAO,EAAE,MAAV;QAAkBC,cAAc,EAAE,QAAlC;QAA4CC,EAAE,EAAE;MAAhD,CAAT;MAAA,uBACI,QAAC,gBAAD;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADI,gBAKJ;MAAA,wBACI;QAAM,QAAQ,EAAEb,cAAhB;QAAgC,KAAK,EAAE;UAACW,OAAO,EAAE,MAAV;UAAkBC,cAAc,EAAE,QAAlC;UAA4CE,UAAU,EAAE,QAAxD;UAAkEC,aAAa,EAAE;QAAjF,CAAvC;QAAA,wBACI,eAAC,eAAD,OAAqBxB,SAArB;UAAgC,GAAG,EAAC,OAApC;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EADJ,eAEI,eAAC,eAAD,OAAqBE,QAArB;UAA+B,GAAG,EAAC,MAAnC;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EAFJ,eAGI;UAAO,IAAI,EAAC,QAAZ;UAAqB,KAAK,EAAC;QAA3B;UAAA;UAAA;UAAA;QAAA,QAHJ,EAIKG,KAAK,iBAAI;UAAG,KAAK,EAAE;YAACoB,KAAK,EAAE;UAAR,CAAV;UAAA,UAA2BpB;QAA3B;UAAA;UAAA;UAAA;QAAA,QAJd;MAAA,GAAuI,UAAvI;QAAA;QAAA;QAAA;MAAA,QADJ,eAOI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAPJ,EAQK,CAACN,KAAD,IAAU,CAACE,IAAX,gBACG;QAAA,wBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI,QAAC,gBAAD;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA,gBADH,gBAMG,QAAC,QAAD;QAAU,KAAK,EAAEF,KAAjB;QAAwB,IAAI,EAAEE;MAA9B;QAAA;QAAA;QAAA;MAAA,QAdR;IAAA,gBAPR;EAAA,GAAc,cAAd;IAAA;IAAA;IAAA;EAAA,QADJ;AA4BH,CA5DD;;GAAMN,c;UAGyBP,Q,EACFA,Q,EAGGM,Y,EACXF,W;;;KARfG,c;AA8DN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}