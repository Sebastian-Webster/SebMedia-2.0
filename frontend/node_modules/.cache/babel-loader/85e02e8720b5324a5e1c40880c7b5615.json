{"ast":null,"code":"var _jsxFileName = \"/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/CreateTextPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useInput from '../hooks/useInput';\nimport { Box, CircularProgress, TextField, Grid } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { DarkModeContext } from \"../context/DarkModeContext\";\nimport TextPost from '../components/TextPost';\nimport AddIcon from '@mui/icons-material/Add';\nimport Fab from '@mui/material/Fab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CreateTextPost = () => {\n  _s();\n\n  const {\n    storedCredentials,\n    setStoredCredentials\n  } = useContext(CredentialsContext);\n  const {\n    darkMode,\n    setDarkMode\n  } = useContext(DarkModeContext);\n  const {\n    _id\n  } = storedCredentials;\n  const [title, bindTitle] = useInput('', 'title');\n  const [body, bindBody] = useInput('', 'body');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  const uploadTextPost = e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    const toSend = {\n      title,\n      body,\n      userId: _id\n    };\n    axios.post('http://localhost:8080/user/textPost', toSend).then(response => response.data).then(result => {\n      setLoading(false);\n      setError(null);\n      navigate('/home');\n    }).catch(error => {\n      var _error$response, _error$response$data;\n\n      setLoading(false);\n      setError(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Create Text Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: uploadTextPost,\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          flexDirection: 'column'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, { ...bindTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(TextField, { ...bindBody\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Fab, {\n          color: \"primary\",\n          \"aria-label\": \"submit\",\n          type: \"submit\",\n          variant: \"extended\",\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), \"Submit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Preview:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), !title || !body ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Preview is waiting for a title AND body to be entered...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: /*#__PURE__*/_jsxDEV(TextPost, {\n          title: title,\n          body: body\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n\n_s(CreateTextPost, \"ZP9coTEcvxgfJwROOl30FsOW9KE=\", false, function () {\n  return [useInput, useInput, useNavigate];\n});\n\n_c = CreateTextPost;\nexport default CreateTextPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateTextPost\");","map":{"version":3,"names":["React","useContext","useState","CredentialsContext","useInput","Box","CircularProgress","TextField","Grid","axios","useNavigate","DarkModeContext","TextPost","AddIcon","Fab","CreateTextPost","storedCredentials","setStoredCredentials","darkMode","setDarkMode","_id","title","bindTitle","body","bindBody","loading","setLoading","error","setError","navigate","uploadTextPost","e","preventDefault","toSend","userId","post","then","response","data","result","catch","display","justifyContent","mt","alignItems","flexDirection","color"],"sources":["/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/CreateTextPost.js"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useInput from '../hooks/useInput';\nimport { Box, CircularProgress, TextField, Grid } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'\nimport { DarkModeContext } from \"../context/DarkModeContext\";\nimport TextPost from '../components/TextPost';\nimport AddIcon from '@mui/icons-material/Add';\nimport Fab from '@mui/material/Fab';\n\nconst CreateTextPost = () => {\n    const {storedCredentials, setStoredCredentials} = useContext(CredentialsContext);\n    const {darkMode, setDarkMode} = useContext(DarkModeContext);\n    const {_id} = storedCredentials;\n    const [title, bindTitle] = useInput('', 'title')\n    const [body, bindBody] = useInput('', 'body')\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(null)\n    const navigate = useNavigate();\n\n    const uploadTextPost = (e) => {\n        e.preventDefault();\n        setLoading(true)\n        setError(null)\n\n        const toSend = {\n            title,\n            body,\n            userId: _id\n        }\n\n        axios.post('http://localhost:8080/user/textPost', toSend).then(response => response.data)\n        .then(result => {\n            setLoading(false)\n            setError(null)\n            navigate('/home')\n        }).catch(error => {\n            setLoading(false)\n            setError(error?.response?.data?.error)\n        })\n    }\n\n    return (\n        <>\n            <h1>Create Text Post</h1>\n            {loading ?\n                <Box sx={{display: 'flex', justifyContent: 'center', mt: 3}}>\n                    <CircularProgress/>\n                </Box>\n            :\n                <>\n                    <form onSubmit={uploadTextPost} style={{display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column'}}>\n                        <TextField {...bindTitle}/>\n                        <TextField {...bindBody}/>\n                        <Fab color=\"primary\" aria-label=\"submit\" type=\"submit\" variant=\"extended\" sx={{mt: 2}}>\n                            <AddIcon />\n                            Submit\n                        </Fab>\n                        {error && <p style={{color: 'red'}}>{error}</p>}\n                    </form>\n                    <h2>Preview:</h2>\n                    {!title || !body ?\n                        <>\n                            <h3>Preview is waiting for a title AND body to be entered...</h3>\n                            <CircularProgress/>\n                        </>\n                    :\n                        <Grid container spacing={2}>\n                            <TextPost title={title} body={body}/>\n                        </Grid>\n                    }\n                </>\n            }\n        </>\n    )\n}\n\nexport default CreateTextPost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}