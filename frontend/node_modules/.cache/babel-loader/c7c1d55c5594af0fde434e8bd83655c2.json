{"ast":null,"code":"var _jsxFileName = \"/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/CreateTextPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useInput from '../hooks/useInput';\nimport { Box, CircularProgress } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CreateTextPost = () => {\n  _s();\n\n  const {\n    storedCredentials,\n    setStoredCredentials\n  } = useContext(CredentialsContext);\n  const {\n    _id\n  } = storedCredentials;\n  const [title, bindTitle] = useInput('', 'title');\n  const [body, bindBody] = useInput('', 'body');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const uploadTextPost = e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    const toSend = {\n      title,\n      body,\n      userId: _id\n    };\n    axios.post('http://localhost:8080/user/textPost', toSend).then(response => response.data).then(result => {\n      setLoading(false);\n      setError(null);\n      alert('Successfully uploaded text post!');\n    }).catch(error => {\n      var _error$response, _error$response$data;\n\n      setLoading(false);\n      setError(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Create Text Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: uploadTextPost,\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", { ...bindTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", { ...bindBody\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CreateTextPost, \"7UJaHmHkbLejBvmT3VxTn+YiWAU=\", false, function () {\n  return [useInput, useInput];\n});\n\n_c = CreateTextPost;\nexport default CreateTextPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateTextPost\");","map":{"version":3,"names":["React","useContext","useState","CredentialsContext","useInput","Box","CircularProgress","axios","CreateTextPost","storedCredentials","setStoredCredentials","_id","title","bindTitle","body","bindBody","loading","setLoading","error","setError","uploadTextPost","e","preventDefault","toSend","userId","post","then","response","data","result","alert","catch","display","justifyContent","mt","alignItems","flexDirection","color"],"sources":["/Users/sebastianwebster/GitHub/SebMedia-2.0/frontend/src/routes/CreateTextPost.js"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport { CredentialsContext } from '../context/CredentialsContext';\nimport useInput from '../hooks/useInput';\nimport { Box, CircularProgress } from '@mui/material';\nimport axios from 'axios';\n\nconst CreateTextPost = () => {\n    const {storedCredentials, setStoredCredentials} = useContext(CredentialsContext);\n    const {_id} = storedCredentials;\n    const [title, bindTitle] = useInput('', 'title')\n    const [body, bindBody] = useInput('', 'body')\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(null)\n\n    const uploadTextPost = (e) => {\n        e.preventDefault();\n        setLoading(true)\n        setError(null)\n\n        const toSend = {\n            title,\n            body,\n            userId: _id\n        }\n\n        axios.post('http://localhost:8080/user/textPost', toSend).then(response => response.data)\n        .then(result => {\n            setLoading(false)\n            setError(null)\n            alert('Successfully uploaded text post!')\n        }).catch(error => {\n            setLoading(false)\n            setError(error?.response?.data?.error)\n        })\n    }\n\n    return (\n        <>\n            <h1>Create Text Post</h1>\n            {loading ?\n                <Box sx={{display: 'flex', justifyContent: 'center', mt: 3}}>\n                    <CircularProgress/>\n                </Box>\n            :\n                <form onSubmit={uploadTextPost} style={{display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column'}}>\n                    <input {...bindTitle}/>\n                    <input {...bindBody}/>\n                    <input type=\"submit\" value='Submit'/>\n                    {error && <p style={{color: 'red'}}>{error}</p>}\n                </form>\n            }\n        </>\n    )\n}\n\nexport default CreateTextPost;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAASC,kBAAT,QAAmC,+BAAnC;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,SAASC,GAAT,EAAcC,gBAAd,QAAsC,eAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,MAAMC,cAAc,GAAG,MAAM;EAAA;;EACzB,MAAM;IAACC,iBAAD;IAAoBC;EAApB,IAA4CT,UAAU,CAACE,kBAAD,CAA5D;EACA,MAAM;IAACQ;EAAD,IAAQF,iBAAd;EACA,MAAM,CAACG,KAAD,EAAQC,SAAR,IAAqBT,QAAQ,CAAC,EAAD,EAAK,OAAL,CAAnC;EACA,MAAM,CAACU,IAAD,EAAOC,QAAP,IAAmBX,QAAQ,CAAC,EAAD,EAAK,MAAL,CAAjC;EACA,MAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACgB,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,IAAD,CAAlC;;EAEA,MAAMkB,cAAc,GAAIC,CAAD,IAAO;IAC1BA,CAAC,CAACC,cAAF;IACAL,UAAU,CAAC,IAAD,CAAV;IACAE,QAAQ,CAAC,IAAD,CAAR;IAEA,MAAMI,MAAM,GAAG;MACXX,KADW;MAEXE,IAFW;MAGXU,MAAM,EAAEb;IAHG,CAAf;IAMAJ,KAAK,CAACkB,IAAN,CAAW,qCAAX,EAAkDF,MAAlD,EAA0DG,IAA1D,CAA+DC,QAAQ,IAAIA,QAAQ,CAACC,IAApF,EACCF,IADD,CACMG,MAAM,IAAI;MACZZ,UAAU,CAAC,KAAD,CAAV;MACAE,QAAQ,CAAC,IAAD,CAAR;MACAW,KAAK,CAAC,kCAAD,CAAL;IACH,CALD,EAKGC,KALH,CAKSb,KAAK,IAAI;MAAA;;MACdD,UAAU,CAAC,KAAD,CAAV;MACAE,QAAQ,CAACD,KAAD,aAACA,KAAD,0CAACA,KAAK,CAAES,QAAR,4EAAC,gBAAiBC,IAAlB,yDAAC,qBAAuBV,KAAxB,CAAR;IACH,CARD;EASH,CApBD;;EAsBA,oBACI;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,EAEKF,OAAO,gBACJ,QAAC,GAAD;MAAK,EAAE,EAAE;QAACgB,OAAO,EAAE,MAAV;QAAkBC,cAAc,EAAE,QAAlC;QAA4CC,EAAE,EAAE;MAAhD,CAAT;MAAA,uBACI,QAAC,gBAAD;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADI,gBAKJ;MAAM,QAAQ,EAAEd,cAAhB;MAAgC,KAAK,EAAE;QAACY,OAAO,EAAE,MAAV;QAAkBC,cAAc,EAAE,QAAlC;QAA4CE,UAAU,EAAE,QAAxD;QAAkEC,aAAa,EAAE;MAAjF,CAAvC;MAAA,wBACI,sBAAWvB;MAAX;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI,sBAAWE;MAAX;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAO,IAAI,EAAC,QAAZ;QAAqB,KAAK,EAAC;MAA3B;QAAA;QAAA;QAAA;MAAA,QAHJ,EAIKG,KAAK,iBAAI;QAAG,KAAK,EAAE;UAACmB,KAAK,EAAE;QAAR,CAAV;QAAA,UAA2BnB;MAA3B;QAAA;QAAA;QAAA;MAAA,QAJd;IAAA;MAAA;MAAA;MAAA;IAAA,QAPR;EAAA,gBADJ;AAiBH,CA/CD;;GAAMV,c;UAGyBJ,Q,EACFA,Q;;;KAJvBI,c;AAiDN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}